<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" charset="UTF-8">
<meta content="telephone=no" name="format-detection" />
<!-- 
  必须加入 user-scalable=no
  否则在部分机器上，fixed 定位，会出问题。
  
  
<meta name="viewport"
      content="
          height = [pixel_value | device-height] ,
          width = [pixel_value | device-width ] ,
          initial-scale = float_value ,
          minimum-scale = float_value ,
          maximum-scale = float_value ,
          user-scalable = [yes | no] ,
          target-densitydpi = [dpi_value | device-dpi |
                               high-dpi | medium-dpi | low-dpi]
          " />

  
device-dpi - Use the device's native dpi as the target dpi. Default scaling never occurs.
high-dpi - Use hdpi as the target dpi. Medium and low density screens scale down as appropriate.
medium-dpi - Use mdpi as the target dpi. High density screens scale up and low density screens scale down. This is the default target density.
low-dpi - Use ldpi as the target dpi. Medium and high density screens scale up as appropriate.
<value> - Specify a dpi value to use as the target dpi. Values must be within the range 70–400.


  target-densitydpi=medium-dpi  使用的分辨率是320*480
  
--> 
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no" />
<meta charset="UTF-8">
<script type="text/javascript" src="http://mc1.test.renren.com/mlogin/xn_api_test/template"></script>
<link rel="stylesheet" href="css/index.css" type="text/css" />
<script type="text/javascript">
var xn = {};
xn.use = function() {
	var arr = [];
	for ( var i = 0, il = arguments.length; i < il; i++) {
		arr.push(arguments[i]);
	}
	xn._cache_use.push(arr);
};
xn.create = function() {
	var arr = [];
	for ( var i = 0, il = arguments.length; i < il; i++) {
		arr.push(arguments[i]);
	}
	xn._cache_create.push(arr);
};
xn._cache_use = new Array();
xn._cache_create = new Array();
xn.config = {
	_path : {
		"core-beta.Class" : {
			path : 'lib/core-beta/Class.js',
			requires : [ "loader_test.A", "loader_test.B" ]
		},
		"loader_test.A" : {
			path : "lib/loader_test/A.js"
		},
		"loader_test.B" : {
			path : "lib/loader_test/B.js"
		}
	}
};
var script = document.createElement('script');
script.src = 'lib/core-beta/Loader.js';
document.getElementsByTagName('head')[0].appendChild(script);

</script>
<script type="text/javascript">
	if(window.location.hash==""){
		window.location.hash="#weather";
	}
</script>
<title>信念--追逐梦想，热爱生活</title>
</head>
<body>
<article class="google_news">
 <nav>
 	<a href="#weather">天气</a>
 	<a href="#renren">人人</a>
 	<a href="#science">科学</a>
 	<a href="#china">中国</a>
 	<a href="#android">Android</a>
 	<a href="#tizen">Tizen</a>	
 </nav>
		<section id="weather">
			<header>天气</header>
			<div class="feed">			
			<i class="loading1"></i>这次的35px 的
			<i class="loading2"></i>这次的20px 的
			<i class="loading"></i>以前的一个
			<i class="loading3"></i>以前的一个			
			</div>
		</section>
		<section id="renren" onload="O.renren.show();" onunload="O.renren.hide();">
			<header>人人网</header>
			<a id="renrenLogout" href="https://login.renren.com/mlogin/auth/swipe" target="_blank">人人退出</a>
			<div class="login_message">
			 <a id="renrenLogin" href="http://www.baidu.com" target="_blank">人人登陆</a>
			</div>
			<div class="searchFriend"></div>
			<div class="feed_list"></div>
		</section>
		<section id="science">
			<header>科学</header>
			<div class="feed">
				<i class="loading1"></i>
			</div>
		</section>
		<section id="technology">
			<header>技术</header>
			<div class="feed">
			  <i class="loading1"></i>
			</div>
		</section>
		<section id="china">
			<header>中国</header>
			<div class="feed">
				<i class="loading1"></i>
			</div>
		</section>
		<section id="android">
			<header>Android</header>
			<div class="feed">
				<i class="loading1"></i>
			</div>
		</section>
		<section id="tizen">
			<header>Tizen</header>
			<div class="feed">
				<i class="loading1"></i>
			</div>
		</section>
	</article> 	
 <script type="text/javascript" src="https://www.google.com/jsapi"></script>
 
 <script type="text/javascript">
 xn.use(["google.Feed","loader_test.YahooAPI"],function(Feed,YahooAPI){
	 if (navigator.geolocation) {
			navigator.geolocation.getCurrentPosition(
					function(position) {
						var lat = position.coords.latitude;
						var lon = position.coords.longitude;
						var api = new YahooAPI();
						
						api.getPlace(lat, lon,function(woeid){							
							Feed.loadWeather(woeid);
						});
					}, function(error) {
						console.error('不能获取定位信息');
					},{enableHighAccuracy:true, maximumAge:30000, timeout:27000});
		}
	 		Feed.loadData();
		});
	     
</script>
	
	
<div id="books"></div>

<script type="text/javascript">
xn.use(["loader_test.XHR2"],function(XHR2,YahooAPI){
	  var books = document.querySelector("#books");
	  var url="https://accounts.google.com/o/oauth2/auth?"+
		  "scope=https://www.googleapis.com/auth/userinfo.profile"+
		  "+https://www.googleapis.com/auth/plus.me"+
		  "+https://www.googleapis.com/auth/tasks"+
		  "+https://www.googleapis.com/auth/cse"+
		  "+https://www.googleapis.com/auth/userinfo.email&"+
		  "state=/profile&"+
		  "redirect_uri=http://mc1.test.renren.com/mlogin/xn_api_test/oauth2callback.html&"+
		  "response_type=token&"+
		  "client_id=1000630186960.apps.googleusercontent.com";
	  var login = document.createElement('a');
	  login.href = url;
	  login.target="_blank";
	  login.innerHTML = "google登录";
	  document.body.insertBefore(login,books);
	  
	  var url = "https://www.googleapis.com/books/v1/volumes?q=harry+potter";
	  var xhr2 =new XHR2({
			url:url,
			method:"get",
			withCredentials:false,
			data:null,
			success:function(response){
				console.log(response);
				var result = xn_template.google.books({books:response});
				
				//books.innerHTML = result;
			},
			failure:function(response){				
				alert("error");
			
			}
		}); 
	  

});

</script>
<script type="text/javascript">
xn.use(["xn_home.Control"],function(Control){
	new Control();
});
var O = {
		renren:{
			show:function(){
				xn.use(["renren.Login"],function(Login){
					var login = new Login();
					login.checkLogin(function(access_token,oauth){
						if(access_token==null){
							console.error("access_token 异常"+access_token);
						}
						
						oauth.profileGetInfo({
							success:function(data){
								if(data!=null&&data.error_msg!=null){
									alert(data.error_msg);
									return;
								}
							
						  		document.querySelector("div.login_message").innerHTML = examples.simple.userMessage(data);
					  	
							}
						},access_token);
					/* 	{
							title:"cccccc",
							url:"http://i3.sinaimg.cn/dy/o/2012-06-29/1340911327_n5hxVG.jpg",
							content:"bbbbbbbb"
						} */
						oauth.commonMethod("profile.getInfo",
												{
													uid:200610823
												},
												function(data){
													if(data!=null&&data.error_code==4){
														alert(data.error_msg);
														return;
													 }
													console.log("发布成功"+JSON.stringify(data));	
												},function(error){
													
													console.error(error.error_message);
												});
						oauth.friendsGet({
							success:function(data){
								if(data!=null&&data.error_code==4){
									alert(data.error_msg);
									return;
								}
							  	document.querySelector("div.searchFriend").innerHTML = xnTemplate.sdk.searchFirends(data);
						  	}
						},access_token);
						
						 oauth.feedGet({
							  success:function(data){	
								if(data!=null&&data.error_code==4){
									alert(data.error_msg);
									return;
								}
							   	document.querySelector("div.feed_list").innerHTML=examples.simple.feed(data);
							  }
						  },access_token);
						  
						
						
					},function(error){
						alert("没登录，并且登录失败");
					});
				});
			},
			hide:function(){
				
			}
		}
}
/* alert(window.devicePixelRatio);
alert(window.screen.width); */

var pinyin = new Worker("lib/renren/worker/ChangeZHCNtoPinYin.js");
</script>
 <input type="range" />
</body>
</html>
