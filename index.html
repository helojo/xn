<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" charset="UTF-8">
<meta content="telephone=no" name="format-detection" />
<!-- 
  必须加入 user-scalable=no
  否则在部分机器上，fixed 定位，会出问题。
 -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no" />
<meta charset="UTF-8">
<script type="text/javascript" src="template"></script>
<link rel="stylesheet" href="css/index.css" type="text/css" />
<script type="text/javascript">
var xn = {};
xn.use = function() {
	var arr = [];
	for ( var i = 0, il = arguments.length; i < il; i++) {
		arr.push(arguments[i]);
	}
	xn._cache_use.push(arr);
};
xn.create = function() {
	var arr = [];
	for ( var i = 0, il = arguments.length; i < il; i++) {
		arr.push(arguments[i]);
	}
	xn._cache_create.push(arr);
};
xn._cache_use = new Array();
xn._cache_create = new Array();
xn.config = {
	_path : {
		"core-beta.Class" : {
			path : 'lib/core-beta/Class.js',
			requires : [ "loader_test.A", "loader_test.B" ]
		},
		"loader_test.A" : {
			path : "lib/loader_test/A.js"
		},
		"loader_test.B" : {
			path : "lib/loader_test/B.js"
		}
	}
};
var script = document.createElement('script');
script.src = 'lib/core-beta/Loader.js';
document.getElementsByTagName('head')[0].appendChild(script);

</script>
<script type="text/javascript">
	if(window.location.hash==""){
		window.location.hash="#weather";
	}
</script>
<title>信念--追逐梦想，热爱生活</title>
</head>
<body>
<article class="google_news">
 <nav>
 	<a href="#weather">天气</a>
 	<a href="#renren">人人</a>
 	<a href="#science">科学</a>
 	<a href="#china">中国</a>
 	<a href="#android">Android</a>
 	<a href="#tizen">Tizen</a>
 </nav>
		<section id="weather">
			<header>天气</header>
			<div class="feed"></div>
		</section>
		<section id="renren">
			<header>人人网</header>
			<div class="feed"></div>
		</section>
		<section id="science">
			<header>科学</header>
			<div class="feed"></div>
		</section>
		<section id="technology">
			<header>技术</header>
			<div class="feed"></div>
		</section>
		<section id="china">
			<header>中国</header>
			<div class="feed"></div>
		</section>
		<section id="android">
			<header>Android</header>
			<div class="feed"></div>
		</section>
		<section id="tizen">
			<header>Tizen</header>
			<div class="feed"></div>
		</section>
	</article> 	
 <script type="text/javascript" src="https://www.google.com/jsapi"></script>
 
 <script type="text/javascript">
 xn.use(["google.Feed","loader_test.YahooAPI"],function(Feed,YahooAPI){
	 if (navigator.geolocation) {
			navigator.geolocation.getCurrentPosition(
					function(position) {
						var lat = position.coords.latitude;
						var lon = position.coords.longitude;
						var api = new YahooAPI();
						
						api.getPlace(lat, lon,function(woeid){							
							Feed.loadWeather(woeid);
						});
					}, function(error) {
						console.error('不能获取定位信息');
					},{enableHighAccuracy:true, maximumAge:30000, timeout:27000});
		}
	 		Feed.loadData();
		});
	     
</script>
	
	
<div id="books"></div>

<script type="text/javascript">
xn.use(["loader_test.XHR2"],function(XHR2,YahooAPI){
	  var books = document.querySelector("#books");
	  var url="https://accounts.google.com/o/oauth2/auth?"+
		  "scope=https://www.googleapis.com/auth/userinfo.profile"+
		  "+https://www.googleapis.com/auth/plus.me"+
		  "+https://www.googleapis.com/auth/tasks"+
		  "+https://www.googleapis.com/auth/cse"+
		  "+https://www.googleapis.com/auth/userinfo.email&"+
		  "state=/profile&"+
		  "redirect_uri=http://mc1.test.renren.com/mlogin/xn_api_test/oauth2callback.html&"+
		  "response_type=token&"+
		  "client_id=1000630186960.apps.googleusercontent.com";
	  var login = document.createElement('a');
	  login.href = url;
	  login.target="_blank";
	  login.innerHTML = "登录";
	  document.body.insertBefore(login,books);
	  
	  var url = "https://www.googleapis.com/books/v1/volumes?q=harry+potter";
	  var xhr2 =new XHR2({
			url:url,
			method:"get",
			withCredentials:false,
			data:null,
			success:function(response){
				console.log(response);
				var result = xn_template.google.books({books:response});
				
				//books.innerHTML = result;
			},
			failure:function(response){				
				alert("error");
			
			}
		}); 
	 
	 
});

</script>
<script type="text/javascript">
xn.use(["xn_home.Control"],function(Control){
	new Control();
})

</script>
</body>
</html>